<div class="flex flex-col mr-10  w-[300px]">
  <!-- <div class="p">
    <input type="search" [formControl]="searcherCategory" placeholder="Buscar categorias" class="p-2 border border-gray-300 rounded-lg focus:ring-Pine focus:border-Pine">
  </div> -->

  <div class="border-b-2 flex my-2 items-center py-2 flex-wrap gap-2 border-spacing-1">
   
      <h5 class="text-Pine text-xl inline font-bold">
        {{selectedCategoriesSignal().length > 0 ? 'Categorías seleccionadas:':'Categorías'}}
      </h5>
      @for (category of selectedCategoriesSignal(); track $index) {
        <div
        (click)="removeCategory(category)"
        class="text-white cursor-pointer  justify-center text-center group border rounded-lg hover:bg-Pine  border-Pine p-1 px-2 bg-Pine/60 text-lg font-bold flex items-center"
      >
        {{ category.label }}
        <span  class=" ml-2 group-hover:text-xl group-hover:text-red-400">
          &times;
        </span>
        <!-- <i class="ml-2 text-sm group-hover:text-red-400  fa-solid fa-xmark"></i> -->
      </div>
      }
      @if (selectedCategoriesSignal().length) {
        <div class="w-full flex justify-start">
          <button type="button" (click)="removeCategory()" class="text-Pine text-sm ">Limpiar filtros</button>
        </div>
      }
     
    
  </div>
    <div class="max-h-[600px] overflow-y-auto tree-category-scroll">
      <app-category-tree
      [categories]="categories$ | async"
      [isNavigation]="true"
    />
    </div>
  
  <button
    (click)="toggleModal()"
    class="p-3 mt-1 bg-Iris/80 hover:bg-Iris text-Text font-semibold rounded-lg focus:outline-none"
  >
    <i class="fa-solid fa-indent pe-2"></i>Agregar Categoria
  </button>
  <button
    (click)="toggleModalNewProduct()"
    class="p-3 mt-2 hover:bg-Pine bg-Pine/80 text-Text font-semibold rounded-lg focus:outline-none"
  >
    <i class="fa-solid fa-plus-minus pe-2"></i> Agregar Producto
  </button>

  <app-category-modal #categoryModal></app-category-modal>
</div>
